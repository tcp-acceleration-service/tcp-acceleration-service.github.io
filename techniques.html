<!DOCTYPE html>
<html lang="en">
<head>
  <title>TCP Acceleration Service</title>
  <meta name="author" content="Antoine Kaufmann" />
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />

  <style type="text/css" media="all"><!--
/*! normalize.css v6.0.0 | MIT License | github.com/necolas/normalize.css */html{line-height:1.15;-ms-text-size-adjust:100%;-webkit-text-size-adjust:100%}article,aside,footer,header,nav,section{display:block}h1{font-size:2em;margin:0.67em 0}figcaption,figure,main{display:block}figure{margin:1em 40px}hr{box-sizing:content-box;height:0;overflow:visible}pre{font-family:monospace, monospace;font-size:1em}a{background-color:transparent;-webkit-text-decoration-skip:objects}abbr[title]{border-bottom:none;text-decoration:underline;text-decoration:underline dotted}b,strong{font-weight:inherit}b,strong{font-weight:bolder}code,kbd,samp{font-family:monospace, monospace;font-size:1em}dfn{font-style:italic}mark{background-color:#ff0;color:#000}small{font-size:80%}sub,sup{font-size:75%;line-height:0;position:relative;vertical-align:baseline}sub{bottom:-0.25em}sup{top:-0.5em}audio,video{display:inline-block}audio:not([controls]){display:none;height:0}img{border-style:none}svg:not(:root){overflow:hidden}button,input,optgroup,select,textarea{margin:0}button,input{overflow:visible}button,select{text-transform:none}button,html [type="button"],[type="reset"],[type="submit"]{-webkit-appearance:button}button::-moz-focus-inner,[type="button"]::-moz-focus-inner,[type="reset"]::-moz-focus-inner,[type="submit"]::-moz-focus-inner{border-style:none;padding:0}button:-moz-focusring,[type="button"]:-moz-focusring,[type="reset"]:-moz-focusring,[type="submit"]:-moz-focusring{outline:1px dotted ButtonText}legend{box-sizing:border-box;color:inherit;display:table;max-width:100%;padding:0;white-space:normal}progress{display:inline-block;vertical-align:baseline}textarea{overflow:auto}[type="checkbox"],[type="radio"]{box-sizing:border-box;padding:0}[type="number"]::-webkit-inner-spin-button,[type="number"]::-webkit-outer-spin-button{height:auto}[type="search"]{-webkit-appearance:textfield;outline-offset:-2px}[type="search"]::-webkit-search-cancel-button,[type="search"]::-webkit-search-decoration{-webkit-appearance:none}::-webkit-file-upload-button{-webkit-appearance:button;font:inherit}details,menu{display:block}summary{display:list-item}canvas{display:inline-block}template{display:none}[hidden]{display:none}@font-face{font-family:'Academicons';src:url("fonts/academicons.eot?v=1.8.0");src:url("fonts/academicons.eot?v=1.8.0") format("embedded-opentype"),url("fonts/academicons.ttf?v=1.8.0") format("truetype"),url("fonts/academicons.woff?v=1.8.0") format("woff"),url("fonts/academicons.svg?v=1.8.0#academicons") format("svg");font-weight:normal;font-style:normal}.ai{display:inline-block;font:normal normal normal 14px/1 Academicons;font-size:inherit;text-rendering:auto;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale}.ai-academia:before{content:"\e800"}.ai-academia-square:before{content:"\e801"}.ai-acclaim:before{content:"\e802"}.ai-acclaim-square:before{content:"\e803"}.ai-acm:before{content:"\e804"}.ai-acm-square:before{content:"\e805"}.ai-ads:before{content:"\e806"}.ai-ads-square:before{content:"\e807"}.ai-arxiv:before{content:"\e808"}.ai-arxiv-square:before{content:"\e809"}.ai-biorxiv:before{content:"\e810"}.ai-biorxiv-square:before{content:"\e811"}.ai-ceur:before{content:"\e812"}.ai-ceur-box:before{content:"\e813"}.ai-courser:before{content:"\e814"}.ai-courser-square:before{content:"\e815"}.ai-dataverse:before{content:"\e816"}.ai-dataverse-box:before{content:"\e817"}.ai-dblp:before{content:"\e818"}.ai-dblp-square:before{content:"\e819"}.ai-depsy:before{content:"\e820"}.ai-depsy-square:before{content:"\e821"}.ai-doi:before{content:"\e822"}.ai-doi-square:before{content:"\e823"}.ai-dryad:before{content:"\e824"}.ai-dryad-square:before{content:"\e825"}.ai-figshare:before{content:"\e826"}.ai-figshare-square:before{content:"\e827"}.ai-google-scholar:before{content:"\e828"}.ai-google-scholar-square:before{content:"\e829"}.ai-ieee:before{content:"\e830"}.ai-ieee-square:before{content:"\e831"}.ai-impactstory:before{content:"\e832"}.ai-impactstory-square:before{content:"\e833"}.ai-inspire:before{content:"\e834"}.ai-inspire-square:before{content:"\e835"}.ai-mendeley:before{content:"\e836"}.ai-mendeley-square:before{content:"\e837"}.ai-open-access:before{content:"\e838"}.ai-open-access-square:before{content:"\e839"}.ai-orcid:before{content:"\e840"}.ai-orcid-square:before{content:"\e841"}.ai-osf:before{content:"\e842"}.ai-osf-square:before{content:"\e843"}.ai-overleaf:before{content:"\e844"}.ai-overleaf-square:before{content:"\e845"}.ai-philpapers:before{content:"\e846"}.ai-philpapers-square:before{content:"\e847"}.ai-piazza:before{content:"\e848"}.ai-piazza-square:before{content:"\e849"}.ai-publons:before{content:"\e850"}.ai-publons-square:before{content:"\e851"}.ai-pubmed:before{content:"\e852"}.ai-pubmed-square:before{content:"\e853"}.ai-researchgate:before{content:"\e854"}.ai-researchgate-square:before{content:"\e855"}.ai-scirate:before{content:"\e856"}.ai-scirate-square:before{content:"\e857"}.ai-springer:before{content:"\e858"}.ai-springer-square:before{content:"\e859"}.ai-zotero:before{content:"\e860"}.ai-zotero-square:before{content:"\e861"}.ai-lg{font-size:1.33333333em;line-height:0.75em;vertical-align:-15%}.ai-2x{font-size:2em}.ai-3x{font-size:3em}.ai-4x{font-size:4em}.ai-5x{font-size:5em}.ai-fw{width:1.28571429em;text-align:center}.ai-ul{padding-left:0;margin-left:2.14285714em;list-style-type:none}.ai-ul>li{position:relative}.ai-li{position:absolute;left:-2.14285714em;width:2.14285714em;top:0.14285714em;text-align:center}.ai-li.fa-lg{left:-1.85714286em}.ai-border{padding:.2em .25em .15em;border:solid 0.08em #eeeeee;border-radius:.1em}.ai-pull-left{float:left}.ai-pull-right{float:right}.ai.fa-pull-left{margin-right:.3em}.ai.fa-pull-right{margin-left:.3em}.fa-lg{font-size:1.33333333em;line-height:0.75em;vertical-align:-15%}.fa-2x{font-size:2em}.fa-3x{font-size:3em}.fa-4x{font-size:4em}.fa-5x{font-size:5em}.fa-fw{width:1.28571429em;text-align:center}.fa-ul{padding-left:0;margin-left:2.14285714em;list-style-type:none}.fa-ul>li{position:relative}.fa-li{position:absolute;left:-2.14285714em;width:2.14285714em;top:0.14285714em;text-align:center}.fa-li.fa-lg{left:-1.85714286em}.fa-border{padding:.2em .25em .15em;border:solid 0.08em #eeeeee;border-radius:.1em}.fa-pull-left{float:left}.fa-pull-right{float:right}.fa.fa-pull-left{margin-right:.3em}.fa.fa-pull-right{margin-left:.3em}*{box-sizing:border-box}html,body{margin:0px;padding:0px}main,header.toplevel,nav.toplevel,footer.toplevel{width:800px;margin:0px auto;padding:10px}header.toplevel{text-align:center;margin-top:50px}header.toplevel h1{padding:0px;margin:5px 0px}nav.toplevel{padding:5px 0px;text-align:center}nav.toplevel ul{padding:0px;margin:0px}nav.toplevel li{display:inline;padding:0px 15px}main{margin-bottom:15px}footer.toplevel{text-align:center}footer.toplevel img.logo{height:32px;padding:0 10px}div.twocol div.twocol-left{float:left;margin-right:10px}div.twocol:after{content:"";display:table;clear:both}pre{width:784px;max-height:600px;overflow:scroll}@media (max-width: 800px){main,header.toplevel,nav.toplevel,footer.toplevel{width:100%;margin:0px}header.toplevel{margin-top:10px}nav.toplevel li{display:block;width:100%;padding-top:5px;padding-bottom:5px}}html,body{font-family:'Roboto', sans-serif;font-size:12pt;line-height:1.5;color:black}li{line-height:1.5;margin:0pt 0pt 5pt 0pt}h1,h2,h3,h4,h5{font-family:'Raleway', sans-serif;font-weight:400;margin:10pt 0px}h1{font-size:38pt;line-height:1.2}h1 a,h1 a:hover{text-decoration:none;color:black}h2{font-size:30pt;line-height:1.2}h3{font-size:22pt;line-height:0.9;margin-top:20pt;margin-bottom:0pt}a{color:#3873b2;text-decoration:underline}a:hover{text-decoration:underline}nav.toplevel{border-top:1px #888 solid;border-bottom:1px #888 solid}nav.toplevel a{font-family:'Raleway', sans-serif;font-weight:300;font-size:110%;text-decoration:none}footer.toplevel{border-top:1px #888 solid}footer.toplevel a.icon{font-size:120%;text-decoration:none;padding:0px 10px}div.announcement{max-width:760px;margin:10px auto;padding:5px;font-weight:bold;font-size:110%;text-align:center}pre{background-color:#aaa}ul.publications li:target{background-color:#ddd}div.img-large{width:640px;margin:20px auto;text-align:center}div.img-large img{max-width:80%}
    --></style>
  <script src="https://use.fontawesome.com/df48750cc8.js"></script>
  <link href="https://fonts.googleapis.com/css?family=Raleway|Roboto" rel="stylesheet" />
</head>

<body>
  <header class="toplevel">
    <h1><a href="/">TCP Acceleration Service</a></h1>
  </header>

  <nav class="toplevel" title="Top-level Navigation">
    <ul>
      <li><a href="/">Overview</a></li>
      <li><a href="techniques.html">Techniques</a></li>
      <li><a href="publications.html">Publications</a></li>
      <li><a href="people.html">People</a></li>
      <li><a href="https://github.com/tcp-acceleration-service">Code</a></li>
    </ul>
  </nav>

  <main>
<h2>Techniques</h2>

<h3>1. Dedicated Cores for TCP</h3>
<p>Unlike conventional network stacks that share CPU cores between the
application and TCP processing, we move TCP processing to a dedicated set of
cores. Applications communicate asynchronously with TAS through in-memory
queues.  This split provides two benefits: 1) Full cache isolation between
applications and TAS for data and instruction caches, TLB and branch predictors,
avoiding cache pollution in either direction.  2) Applications and TCP
processing operate in parallel, thereby reducing tail latency. </p>

<div class="img-large">
  <img src="images/structure_cores.svg" alt="Dedicated Cores in TAS" />
</div>


<h3>2. Separate Fast Path and Slow Path</h3>
<p>We further separate TCP processing into a streamlined fast-path that performs
all per packet operations, a slow path for less frequent and periodic tasks such
as connection establishment and timeouts, and a small application library that
provides the sockets interface. The fast path minimizes the CPU cycles required
to receive and transmit TCP packets and because of its simplified nature is
enables additional optimizations, such as careful cache management and
simplified control flow.</p>

<div class="img-large">
  <img src="images/structure_split.svg" alt="Fast Path and Slow Path Split in
  TAS" />
</div>


<h3>3. Minimal Connection State</h3>
<p>Splitting out a separate fast path, also allows us to minimize per-connection
state. In TAS, the connection state used by the fast path amounts to two cache
lines per connections consisting of a flat set of integer fields (no complicated
data structures). As a result, TAS scales to large numbers of connections.</p>


<h3>4. Centralized Packet Scheduling</h3>
<p>We schedule TCP packet transmissions centrally and with precise timing. This
allows TAS to enforce per-flow fairness under congestion and keep tail latency
low even with large numbers of connections.</p>
  </main>

  <footer class="toplevel">
    <a href="https://www.mpi-sws.org/">
      <img class="logo" src="images/logo_mpisws.png" alt="MPI-SWS Logo" /></a>
    <a href="https://cs.washington.edu/">
      <img class="logo" src="images/logo_uwcse.png" alt="UW CSE Logo" /></a>
    <a href="https://cs.utexas.edu/">
      <img class="logo" src="images/logo_utcs.png" alt="UT CS Logo" /></a>
  </footer>
</body>
</html>
